<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset='utf-8'>
    <title>Sailing Boats</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body class="boats">
    <header></header>
    <main>
        <div id="demo" class="carousel slide" data-ride="carousel" data-interval="false">

            <!-- Indicators -->
            <ul class="carousel-indicators">
                <li data-target="#demo" data-slide-to="0" class="active"></li>
                <li data-target="#demo" data-slide-to="1"></li>
                <li data-target="#demo" data-slide-to="2"></li>
                <li data-target="#demo" data-slide-to="3"></li>
            </ul>
            
            <!-- The slideshow -->
            <div class="carousel-inner">
                    <div class="carousel-item active">
                    <img src="imgs/boats/1.jpg" alt="Bavaria Yacht" >
                    </div>
                    <div class="carousel-item">
                    <img src="imgs/boats/2.jpg" alt="Old Yacht">
                    </div>
                    <div class="carousel-item">
                    <img src="imgs/boats/3.jpg" alt="Bavaria Yacht">
                    </div>
                    <div class="carousel-item">
                        <img src="imgs/boats/4.jpg" alt="Beautiful catamaran">
                    </div>
            </div>
            
            <!-- Left and right controls -->
            <a class="carousel-control-prev" href="#demo" data-slide="prev">
                <span class="carousel-control-prev-icon">&#10094;</span>
            </a>
            <a class="carousel-control-next" href="#demo" data-slide="next">
                <span class="carousel-control-next-icon">&#10095;</span>
            </a>
            </div>
        <section>
            <script>
                let articles = ["<h1>Picture 1!</h1><p>This is a picture of Bavaria Cruiser 46</p>", "<h1>Picture 2!</h1><p>This is a picture of a beautiful boat Sun Sea Sail</p>", "<h1>Picture 3!</h1><p>This is a picture of Beneteau Oceanis. Isn't it beautiful?</p>", "<h1>Picture 4!</h1><p>This is a picture of cool old ships</p>"];
                let boatsArticleChange = () => {
                    let activeBoat = document.querySelector("body.boats main .carousel-inner div.active").firstElementChild.getAttribute("src");
                    activeBoat = activeBoat.slice(activeBoat.lastIndexOf("/") + 1, activeBoat.lastIndexOf("."));
                    activeBoat = Number(activeBoat);
                    let article = document.querySelector("body.boats main section").innerHTML = articles[activeBoat - 1];
                };
                function addClassNameListener(callback) {
                    var elem = document.querySelector("body.boats main .carousel-inner");
                    var lastInnerHtml = elem.innerHTML;
                    window.setInterval( function() {   
                    var innerHtml = elem.innerHTML;
                        if (innerHtml !== lastInnerHtml) {
                            callback();   
                            lastInnerHtml = innerHtml;
                        }
                    },10);
                }
                boatsArticleChange();
                addClassNameListener(boatsArticleChange);
            </script>
        </section>
    </main>
    <footer><script src="js/samplePage.js"></script></footer>
</body>
</html>